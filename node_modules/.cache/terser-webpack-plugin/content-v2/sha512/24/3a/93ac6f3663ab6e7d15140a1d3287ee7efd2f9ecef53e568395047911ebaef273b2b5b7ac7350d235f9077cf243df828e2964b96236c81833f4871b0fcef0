{"code":"(this[\"webpackJsonphygraph-uix-cloudinary-input\"]=this[\"webpackJsonphygraph-uix-cloudinary-input\"]||[]).push([[0],{215:function(e,i,n){\"use strict\";n.r(i);var t=n(0),o=n.n(t),c=n(89),l=n.n(c),r=(n(97),n(39)),a=n(92),d=n(27),s=n(12),u=n(90),p=n(4),x=n(6),b=n(1);function j(e){return Boolean(e)&&\"public_id\"in e&&\"resource_type\"in e}function f(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return j(e)}))}var h={extensionType:x.ExtensionType.field,fieldType:x.FieldExtensionType.JSON,name:\"Cloudinary asset\",description:\"Pick asset object in Cloudinary\",features:[x.FieldExtensionFeature.FieldRenderer,x.FieldExtensionFeature.ListRenderer,x.FieldExtensionFeature.TableRenderer],config:{CLOUD_NAME:{displayName:\"Cloudinary cloud name\",type:x.ConfigType.string,required:!0},API_KEY:{displayName:\"Cloudinary public api key\",type:x.ConfigType.string,required:!0}}};function y(){}function g(){return Object(x.useFieldExtension)().isTableCell?Object(b.jsx)(O,{}):Object(b.jsx)(m,{})}function m(){var e=Object(x.useFieldExtension)(),i=e.value,n=e.field.isList,c=e.onChange,l=e.onFocus,r=e.onBlur,a=e.expand,s=e.isExpanded,u=e.openDialog,p=e.extension.config,j=Object(t.useState)(!1),h=Object(d.a)(j,2),y=h[0],g=h[1];Object(t.useEffect)((function(){g(!1)}),[s]);var m=o.a.useState(),O=Object(d.a)(m,2),_=O[0],C=O[1],E=Array.isArray(i)?i.length>0:Boolean(i);return Object(b.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"flex-start\",padding:\"10px\",opacity:y?0:1},children:[s?null:Object(b.jsx)(\"button\",{style:{cursor:\"pointer\",marginBottom:\"10px\",boxSizing:\"border-box\",userSelect:\"none\",color:\"#6663FD\",backgroundColor:\"#F2F1FF\",textAlign:\"center\",lineHeight:\"16px\",display:\"inline-flex\",border:\"0px\",borderRadius:\"4px\",fontWeight:600,fontFamily:'Inter, -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial, sans-serif',fontSize:\"14px\",verticalAlign:\"middle\",padding:\"8px\"},onClick:function(){l(),u(\"/cloudinary\",{maxWidth:\"90vw\",isList:n,media:i}).then((function(e){e&&c(e),r()}))},children:\"Choose from Cloudinary\"}),E&&(f(i)?i.map((function(e,n){return Object(b.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"row\",alignItems:\"flex-start\",opacity:s&&e.public_id!==(null===_||void 0===_?void 0:_.public_id)?0:1},children:[Object(b.jsx)(v,{cloudName:String(p.CLOUD_NAME),media:e,isExpanded:e.public_id===(null===_||void 0===_?void 0:_.public_id)&&s,onOpen:function(){a(!0),g(!0),C(e)},onClose:function(){a(!1),g(!0),C(void 0)}}),Object(b.jsx)(\"button\",{style:{marginLeft:\"10px\",cursor:\"pointer\",boxSizing:\"border-box\",userSelect:\"none\",color:\"#6663FD\",backgroundColor:\"transparent\",textAlign:\"center\",lineHeight:\"14px\",display:\"inline-flex\",border:\"0px\",fontWeight:500,fontFamily:\"sans-serif\",fontSize:\"12px\",verticalAlign:\"middle\",padding:\"4px\"},onClick:function(){var n=i.filter((function(i){return i.public_id!==e.public_id}));c(n)},children:\"X\"})]},e.public_id+n)})):Object(b.jsx)(v,{cloudName:String(p.CLOUD_NAME),isExpanded:i.public_id===(null===_||void 0===_?void 0:_.public_id)&&s,onOpen:function(){a(!0),g(!0),C(i)},onClose:function(){a(!1),g(!0),C(void 0)},media:i}))]})}function O(){var e=Object(x.useFieldExtension)(),i=e.value,n=e.isExpanded,o=e.expand,c=e.field.isList,l=e.extension.config,r=Object(t.useState)(!1),a=Object(d.a)(r,2),s=a[0],u=a[1];return Object(t.useEffect)((function(){u(!1)}),[n]),(Array.isArray(i)?0===i.length:!1===Boolean(i))?null:n&&c?Object(b.jsx)(C,{cloudName:String(l.CLOUD_NAME),media:i,closeModal:function(){o(!1),u(!0)}}):Object(b.jsx)(\"div\",{style:{display:\"flex\",opacity:s?0:1},children:f(i)?i.map((function(e,n){return Object(b.jsx)(\"div\",{style:{width:59,height:59,marginRight:n===i.length-1?0:10},children:Object(b.jsx)(_,{cloudName:String(l.CLOUD_NAME),media:e,onOpen:function(){o(!0),u(!0)},isExpanded:!1,onClose:y})},e.public_id+n)})):Object(b.jsx)(\"div\",{style:{width:59,height:59},children:Object(b.jsx)(_,{cloudName:String(l.CLOUD_NAME),isExpanded:n,onClose:function(){o(!1),u(!0)},onOpen:function(){o(!0),u(!0)},media:i})})})}function v(e){var i=e.media,n=e.onOpen,t=e.onClose,o=e.isExpanded,c=e.cloudName;return o?Object(b.jsx)(E,{cloudName:c,media:i,onClose:t}):\"image\"===i.resource_type?Object(b.jsx)(\"button\",{onClick:n,style:{border:\"none\",outline:\"none\",background:\"transparent\",cursor:\"pointer\"},children:Object(b.jsx)(s.a,{cloudName:c,publicId:i.public_id,width:\"400\",crop:\"scale\",children:Object(b.jsx)(s.b,{})})}):\"video\"===i.resource_type?Object(b.jsx)(s.c,{cloudName:c,publicId:i.public_id,width:\"400\",controls:!0}):null}function _(e){var i=e.isExpanded,n=e.media,t=e.onOpen,o=e.onClose,c=e.cloudName,l=e.style;return i?Object(b.jsx)(E,{media:n,onClose:o,cloudName:c}):Object(b.jsx)(\"div\",{tabIndex:0,onClick:t,onKeyPress:function(e){\"Enter\"===e.key&&t()},style:Object(a.a)({width:59,height:59,flexShrink:0},l),children:\"image\"===n.resource_type?Object(b.jsx)(s.a,{publicId:n.public_id,cloudName:c,width:\"auto\",crop:\"scale\",style:{objectFit:\"cover\",width:\"100%\",height:\"100%\",cursor:\"pointer\"},children:Object(b.jsx)(s.b,{})}):\"video\"===n.resource_type?Object(b.jsx)(s.c,{cloudName:c,publicId:n.public_id,width:\"auto\",style:{objectFit:\"cover\",width:\"100%\",height:\"100%\",cursor:\"pointer\"}}):null})}function C(e){var i=e.closeModal,n=e.media,o=e.cloudName,c=Object(t.useState)(null),l=Object(d.a)(c,2),r=l[0],a=l[1];return r?Object(b.jsx)(_,{cloudName:o,media:r,isExpanded:!0,onOpen:y,onClose:function(){a(null)}}):Object(b.jsx)(\"div\",{\"aria-modal\":\"true\",role:\"dialog\",style:{position:\"fixed\",inset:0,display:\"flex\"},onClick:i,children:Object(b.jsxs)(\"div\",{style:{margin:\"auto\"},onClick:function(e){e.stopPropagation()},children:[Object(b.jsx)(w,{closeModal:i}),Object(b.jsx)(\"div\",{style:{display:\"flex\",borderRadius:\"4px\",backgroundColor:\"white\",maxWidth:\"800px\",maxHeight:\"400px\",padding:\"16px\",overflowY:\"auto\"},children:n.map((function(e,i){return Object(b.jsx)(_,{isExpanded:!1,cloudName:o,media:e,onOpen:function(){a(e)},onClose:function(){a(null)},style:{width:250,height:200,marginRight:i===n.length-1?0:16}},e.public_id+i)}))})]})})}function E(e){var i=e.media,n=e.cloudName,o=e.onClose;return Object(t.useEffect)((function(){var e=function(e){\"Escape\"===e.key&&o()};return window.addEventListener(\"keyup\",e),function(){window.removeEventListener(\"keyup\",e)}}),[o]),Object(b.jsxs)(\"div\",{\"aria-modal\":\"true\",role:\"dialog\",style:{position:\"fixed\",inset:0,display:\"flex\",alignItems:\"center\",overflow:\"auto\"},onClick:function(e){e.stopPropagation(),o()},children:[Object(b.jsx)(w,{closeModal:o}),\"image\"===i.resource_type?Object(b.jsx)(s.a,{cloudName:n,publicId:i.public_id,width:\"auto\",style:{maxWidth:\"100%\",margin:\"auto\",maxHeight:\"100%\"},crop:\"scale\",children:Object(b.jsx)(s.b,{})}):\"video\"===i.resource_type?Object(b.jsx)(s.c,{cloudName:n,publicId:i.public_id,controls:!0,style:{maxWidth:\"70vw\",margin:\"auto\",maxHeight:\"100%\"}}):null]})}function N(){var e=Object(x.useFieldExtension)().extension.config,i=Object(x.useUiExtensionDialog)(),n=i.onCloseDialog,o=i.isList,c=i.media;return Object(t.useLayoutEffect)((function(){window.cloudinary.createMediaLibrary({cloud_name:e.CLOUD_NAME,api_key:e.API_KEY,remove_header:!1,max_files:\"10\",multiple:o,insert_caption:\"Add & close\",inline_container:\"#cloudinary_dialog\",default_transformations:[[{quality:\"auto\"},{fetch_format:\"auto\"}],[{width:80,height:80,crop:\"fill\",gravity:\"auto\",radius:\"max\"},{fetch_format:\"auto\",quality:\"auto\"}]],integration:{type:\"hygraph_cloudinary_extension\",platform:\"hygraph\",version:1,environment:\"prod\"}},{hideHandler:function(){n()},insertHandler:function(e){if(o)if(f(c))n([].concat(Object(r.a)(c),Object(r.a)(e.assets)));else{var i=j(c)?[c].concat(Object(r.a)(e.assets)):e.assets;n(i)}else n(e.assets[0])}}).show()}),[e.API_KEY,e.CLOUD_NAME,o,c,n]),Object(b.jsx)(\"div\",{id:\"cloudinary_dialog\",style:{height:\"800px\"}})}function w(e){var i=e.closeModal;return Object(b.jsx)(\"button\",{type:\"button\",style:{cursor:\"pointer\",userSelect:\"none\",backgroundColor:\"transparent\",textAlign:\"center\",lineHeight:\"16px\",display:\"inline-flex\",border:\"0px\",position:\"absolute\",right:\"10px\",top:\"10px\",fontWeight:500,background:\"white\",color:\"black\",fontSize:\"16px\",borderRadius:\"4px\",padding:\"4px 8px\",verticalAlign:\"middle\",margin:0},onClick:function(e){e.preventDefault(),e.stopPropagation(),i()},onKeyPress:function(e){e.preventDefault(),e.stopPropagation(),\"Enter\"===e.key&&i()},children:\"Close\"})}var k=function(){return Object(b.jsx)(x.Wrapper,{declaration:h,children:Object(b.jsx)(u.a,{children:Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{path:\"/\",exact:!0,children:Object(b.jsx)(g,{})}),Object(b.jsx)(p.a,{path:\"/cloudinary\",exact:!0,children:Object(b.jsx)(N,{})})]})})})};l.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById(\"root\"))},97:function(e,i,n){}},[[215,1,2]]]);","name":"static/js/main.a1463b3d.chunk.js","map":{"version":3,"sources":["static/js/main.a1463b3d.chunk.js"],"names":["this","push","215","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","toConsumableArray","objectSpread2","slicedToArray","cloudinary_react_esm","react_router_dom","react_router","esm","jsx_runtime","isMediaType","item","Boolean","isMediaList","media","Array","isArray","length","every","declaration","extensionType","field","fieldType","JSON","name","description","features","FieldRenderer","ListRenderer","TableRenderer","config","CLOUD_NAME","displayName","type","string","required","API_KEY","noop","Extension","Object","isTableCell","TableCellRenderer","FormFieldRenderer","_useFieldExtension2","value","isList","onChange","onFocus","onBlur","expand","isExpanded","openDialog","extension","_useState","_useState2","isTransitioning","setIsTransitioning","_React$useState","a","useState","_React$useState2","clickedMedia","setClickedMedia","showMedia","style","display","flexDirection","alignItems","padding","opacity","children","cursor","marginBottom","boxSizing","userSelect","color","backgroundColor","textAlign","lineHeight","border","borderRadius","fontWeight","fontFamily","fontSize","verticalAlign","onClick","maxWidth","then","map","index","public_id","FormAsset","cloudName","String","onOpen","onClose","undefined","marginLeft","newValues","filter","_useFieldExtension3","_useState3","_useState4","TableAssetsPreviewModal","closeModal","width","height","marginRight","TableAsset","_ref","FullScreenPreview","resource_type","outline","background","publicId","crop","controls","_ref2","tabIndex","onKeyPress","e","key","flexShrink","objectFit","_ref3","_useState5","_useState6","maximizedAsset","setMaximizedAsset","aria-modal","role","position","inset","margin","stopPropagation","CloseModalButton","maxHeight","overflowY","_ref4","handler","window","addEventListener","removeEventListener","overflow","CloudinaryDialog","_useUiExtensionDialog","onCloseDialog","cloudinary","createMediaLibrary","cloud_name","api_key","remove_header","max_files","multiple","insert_caption","inline_container","default_transformations","quality","fetch_format","gravity","radius","integration","platform","version","environment","hideHandler","insertHandler","data","concat","assets","newArray","show","id","_ref5","right","top","event","preventDefault","src_App","path","exact","render","StrictMode","document","getElementById","97","exports"],"mappings":"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"},"input":"(this[\"webpackJsonphygraph-uix-cloudinary-input\"] = this[\"webpackJsonphygraph-uix-cloudinary-input\"] || []).push([[0],{\n\n/***/ 215:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(89);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(92);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/cloudinary-react/dist/cloudinary-react.esm.js\nvar cloudinary_react_esm = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@graphcms/uix-react-sdk/dist/esm/index.js\nvar esm = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/App.tsx\nfunction isMediaType(item){return Boolean(item)&&'public_id'in item&&'resource_type'in item;}function isMediaList(media){return Array.isArray(media)&&media.length>0&&media.every(function(item){return isMediaType(item);});}// useUiExtensionDialog hook accepts two type parameters:\n// 1. The return value type, will be null or undefined if nothing is returned; falls back to any\nvar declaration={extensionType:esm[\"ExtensionType\"].field,fieldType:esm[\"FieldExtensionType\"].JSON,name:'Cloudinary asset',description:'Pick asset object in Cloudinary',features:[// Enables rendering of a form field\nesm[\"FieldExtensionFeature\"].FieldRenderer,// Enables handling lists of values\n// Don't forget to enable multiple values when creating a UI extension field in Hygraph!\nesm[\"FieldExtensionFeature\"].ListRenderer,// Enables rendering in content table view\nesm[\"FieldExtensionFeature\"].TableRenderer],// Optional fields that will when adding or updating a UI extension in Hygraph\nconfig:{CLOUD_NAME:{displayName:'Cloudinary cloud name',type:esm[\"ConfigType\"].string,required:true},API_KEY:{displayName:'Cloudinary public api key',type:esm[\"ConfigType\"].string,required:true}}};function noop(){}// Treat the dialog as a separate extension and render it at a dedicated route\n// The dialog path you set here should later be passed as the first argument to the openDialog function\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(esm[\"Wrapper\"],{declaration:declaration,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Extension,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/cloudinary\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloudinaryDialog,{})})]})})});}function Extension(){var _useFieldExtension=Object(esm[\"useFieldExtension\"])(),isTableCell=_useFieldExtension.isTableCell;// isTableCell can be used to detect whether the extension is currently rendered in content table\nif(isTableCell){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCellRenderer,{});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormFieldRenderer,{});}function FormFieldRenderer(){var _useFieldExtension2=Object(esm[\"useFieldExtension\"])(),media=_useFieldExtension2.value,isList=_useFieldExtension2.field.isList,onChange=_useFieldExtension2.onChange,onFocus=_useFieldExtension2.onFocus,onBlur=_useFieldExtension2.onBlur,expand=_useFieldExtension2.expand,isExpanded=_useFieldExtension2.isExpanded,openDialog=_useFieldExtension2.openDialog,config=_useFieldExtension2.extension.config;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isTransitioning=_useState2[0],setIsTransitioning=_useState2[1];Object(react[\"useEffect\"])(function(){setIsTransitioning(false);},[isExpanded]);var _React$useState=react_default.a.useState(),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),clickedMedia=_React$useState2[0],setClickedMedia=_React$useState2[1];// Note that in a form, an empty field's initial value is an empty string\nvar showMedia=Array.isArray(media)?media.length>0:Boolean(media);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'flex-start',padding:'10px',opacity:isTransitioning?0:1},children:[isExpanded?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:{cursor:'pointer',marginBottom:'10px',boxSizing:'border-box',userSelect:'none',color:'#6663FD',backgroundColor:'#F2F1FF',textAlign:'center',lineHeight:'16px',display:'inline-flex',border:'0px',borderRadius:'4px',fontWeight:600,fontFamily:'Inter, -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial, sans-serif',fontSize:'14px',verticalAlign:'middle',padding:'8px'},onClick:function onClick(){onFocus();// openDialog accepts a route path as the first argument and,\n// optionally, an object with props that will be passed to the dialog.\n// These props will be returned by the useUiExtensionDialog hook\n//\nopenDialog('/cloudinary',{// By default, native Hygraph dialogs have a maxWidth of 600px.\n// You can overwrite it by passing a maxWidth prop\nmaxWidth:'90vw',isList:isList,media:media// openDialog returns a Promise with the value that was passed to onCloseDialog\n}).then(function(value){if(value){onChange(value);}onBlur();});},children:\"Choose from Cloudinary\"}),showMedia&&(isMediaList(media)?media.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'flex-start',opacity:isExpanded&&item.public_id!==(clickedMedia===null||clickedMedia===void 0?void 0:clickedMedia.public_id)?0:1},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormAsset,{cloudName:String(config.CLOUD_NAME),media:item,isExpanded:item.public_id===(clickedMedia===null||clickedMedia===void 0?void 0:clickedMedia.public_id)&&isExpanded,onOpen:function onOpen(){// expand accepts a boolean that will be accessible as isExpanded\nexpand(true);setIsTransitioning(true);setClickedMedia(item);},onClose:function onClose(){expand(false);setIsTransitioning(true);setClickedMedia(undefined);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:{marginLeft:'10px',cursor:'pointer',boxSizing:'border-box',userSelect:'none',color:'#6663FD',backgroundColor:'transparent',textAlign:'center',lineHeight:'14px',display:'inline-flex',border:'0px',fontWeight:500,fontFamily:'sans-serif',fontSize:'12px',verticalAlign:'middle',padding:'4px'},onClick:function onClick(){var newValues=media.filter(function(value){return value.public_id!==item.public_id;});onChange(newValues);},children:\"X\"})]},item.public_id+index);}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormAsset,{cloudName:String(config.CLOUD_NAME),isExpanded:media.public_id===(clickedMedia===null||clickedMedia===void 0?void 0:clickedMedia.public_id)&&isExpanded,onOpen:function onOpen(){expand(true);setIsTransitioning(true);setClickedMedia(media);},onClose:function onClose(){expand(false);setIsTransitioning(true);setClickedMedia(undefined);},media:media}))]});}function TableCellRenderer(){var _useFieldExtension3=Object(esm[\"useFieldExtension\"])(),media=_useFieldExtension3.value,isExpanded=_useFieldExtension3.isExpanded,expand=_useFieldExtension3.expand,isList=_useFieldExtension3.field.isList,config=_useFieldExtension3.extension.config;var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isTransitioning=_useState4[0],setIsTransitioning=_useState4[1];Object(react[\"useEffect\"])(function(){setIsTransitioning(false);},[isExpanded]);if(Array.isArray(media)?media.length===0:Boolean(media)===false){return null;}if(isExpanded&&isList){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableAssetsPreviewModal,{cloudName:String(config.CLOUD_NAME),media:media,closeModal:function closeModal(){expand(false);setIsTransitioning(true);}});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',opacity:isTransitioning?0:1},children:isMediaList(media)?media.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:59,height:59,marginRight:index===media.length-1?0:10},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableAsset,{cloudName:String(config.CLOUD_NAME),media:item,onOpen:function onOpen(){expand(true);setIsTransitioning(true);},isExpanded:false,onClose:noop})},item.public_id+index);}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:59,height:59},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableAsset,{cloudName:String(config.CLOUD_NAME),isExpanded:isExpanded,onClose:function onClose(){expand(false);setIsTransitioning(true);},onOpen:function onOpen(){expand(true);setIsTransitioning(true);},media:media})})});}function FormAsset(_ref){var media=_ref.media,onOpen=_ref.onOpen,onClose=_ref.onClose,isExpanded=_ref.isExpanded,cloudName=_ref.cloudName;if(isExpanded){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FullScreenPreview,{cloudName:cloudName,media:media,onClose:onClose});}if(media.resource_type==='image')return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onOpen,style:{border:'none',outline:'none',background:'transparent',cursor:'pointer'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"a\" /* Image */],{cloudName:cloudName,publicId:media.public_id,width:\"400\",crop:\"scale\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"b\" /* Placeholder */],{})})});if(media.resource_type==='video')return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"c\" /* Video */],{cloudName:cloudName,publicId:media.public_id,width:\"400\",controls:true});return null;}function TableAsset(_ref2){var isExpanded=_ref2.isExpanded,media=_ref2.media,onOpen=_ref2.onOpen,onClose=_ref2.onClose,cloudName=_ref2.cloudName,style=_ref2.style;if(isExpanded){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FullScreenPreview,{media:media,onClose:onClose,cloudName:cloudName});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{tabIndex:0,onClick:onOpen,onKeyPress:function onKeyPress(e){if(e.key==='Enter'){onOpen();}},style:Object(objectSpread2[\"a\" /* default */])({width:59,height:59,flexShrink:0},style),children:media.resource_type==='image'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"a\" /* Image */],{publicId:media.public_id,cloudName:cloudName,width:\"auto\",crop:\"scale\",style:{objectFit:'cover',width:'100%',height:'100%',cursor:'pointer'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"b\" /* Placeholder */],{})}):media.resource_type==='video'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"c\" /* Video */],{cloudName:cloudName,publicId:media.public_id,width:\"auto\",style:{objectFit:'cover',width:'100%',height:'100%',cursor:'pointer'}}):null});}function TableAssetsPreviewModal(_ref3){var closeModal=_ref3.closeModal,media=_ref3.media,cloudName=_ref3.cloudName;var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),maximizedAsset=_useState6[0],setMaximizedAsset=_useState6[1];if(maximizedAsset){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableAsset,{cloudName:cloudName,media:maximizedAsset,isExpanded:true,onOpen:noop,onClose:function onClose(){setMaximizedAsset(null);}});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{\"aria-modal\":\"true\",role:\"dialog\",style:{position:'fixed',inset:0,display:'flex'},onClick:closeModal,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:'auto'},onClick:function onClick(e){e.stopPropagation();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloseModalButton,{closeModal:closeModal}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',borderRadius:'4px',backgroundColor:'white',maxWidth:'800px',maxHeight:'400px',padding:'16px',overflowY:'auto'},children:media.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableAsset,{isExpanded:false,cloudName:cloudName,media:item,onOpen:function onOpen(){setMaximizedAsset(item);},onClose:function onClose(){setMaximizedAsset(null);},style:{width:250,height:200,marginRight:index===media.length-1?0:16}},item.public_id+index);})})]})});}function FullScreenPreview(_ref4){var media=_ref4.media,cloudName=_ref4.cloudName,onClose=_ref4.onClose;Object(react[\"useEffect\"])(function(){var handler=function handler(e){if(e.key==='Escape'){onClose();}};window.addEventListener('keyup',handler);return function(){window.removeEventListener('keyup',handler);};},[onClose]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{\"aria-modal\":\"true\",role:\"dialog\",style:{position:'fixed',inset:0,display:'flex',alignItems:'center',overflow:'auto'},onClick:function onClick(e){e.stopPropagation();onClose();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloseModalButton,{closeModal:onClose}),media.resource_type==='image'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"a\" /* Image */],{cloudName:cloudName,publicId:media.public_id,width:\"auto\",style:{maxWidth:'100%',margin:'auto',maxHeight:'100%'},crop:\"scale\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"b\" /* Placeholder */],{})}):media.resource_type==='video'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cloudinary_react_esm[\"c\" /* Video */],{cloudName:cloudName,publicId:media.public_id,controls:true,style:{maxWidth:'70vw',margin:'auto',maxHeight:'100%'}}):null]});}function CloudinaryDialog(){var _useFieldExtension4=Object(esm[\"useFieldExtension\"])(),config=_useFieldExtension4.extension.config;// You can pass type parameters to useUiExtensionDialog\n// onCloseDialog function is always returned from the hook\nvar _useUiExtensionDialog=Object(esm[\"useUiExtensionDialog\"])(),onCloseDialog=_useUiExtensionDialog.onCloseDialog,isList=_useUiExtensionDialog.isList,media=_useUiExtensionDialog.media;Object(react[\"useLayoutEffect\"])(function(){// @ts-expect-error\nvar mediaLibrary=window.cloudinary.createMediaLibrary({cloud_name:config.CLOUD_NAME,api_key:config.API_KEY,remove_header:false,max_files:'10',multiple:isList,insert_caption:'Add & close',inline_container:'#cloudinary_dialog',default_transformations:[[{quality:'auto'},{fetch_format:'auto'}],[{width:80,height:80,crop:'fill',gravity:'auto',radius:'max'},{fetch_format:'auto',quality:'auto'}]],integration:{type:'hygraph_cloudinary_extension',platform:'hygraph',version:1.0,environment:'prod'}},{hideHandler:function hideHandler(){// To close the dialog without returning a value to the fields,\n// call onCloseDialog with null or without an argument\nonCloseDialog();},insertHandler:function insertHandler(data){// Pass a single value to onCloseDialog to set it as the field value\n// or an array, if the field handles multiple values\nif(isList){if(isMediaList(media)){onCloseDialog([].concat(Object(toConsumableArray[\"a\" /* default */])(media),Object(toConsumableArray[\"a\" /* default */])(data.assets)));}else{// initial field value is an empty string\nvar newArray=isMediaType(media)?[media].concat(Object(toConsumableArray[\"a\" /* default */])(data.assets)):data.assets;onCloseDialog(newArray);}}else{onCloseDialog(data.assets[0]);}}});mediaLibrary.show();},[config.API_KEY,config.CLOUD_NAME,isList,media,onCloseDialog]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"cloudinary_dialog\",style:{height:'800px'}});}function CloseModalButton(_ref5){var closeModal=_ref5.closeModal;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",style:{cursor:'pointer',userSelect:'none',backgroundColor:'transparent',textAlign:'center',lineHeight:'16px',display:'inline-flex',border:'0px',position:'absolute',right:'10px',top:'10px',fontWeight:500,background:'white',color:'black',fontSize:'16px',borderRadius:'4px',padding:'4px 8px',verticalAlign:'middle',margin:0},onClick:function onClick(event){event.preventDefault();event.stopPropagation();closeModal();},onKeyPress:function onKeyPress(event){event.preventDefault();event.stopPropagation();if(event.key==='Enter'){closeModal();}},children:\"Close\"});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[215,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/mohamed/uix-cloudinary-input/src/App.tsx","/Users/mohamed/uix-cloudinary-input/src/index.tsx","/Users/mohamed/uix-cloudinary-input/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mohamed/uix-cloudinary-input/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mohamed/uix-cloudinary-input/node_modules/postcss-loader/src/index.js??postcss!/Users/mohamed/uix-cloudinary-input/src/index.css"],"names":["isMediaType","item","Boolean","isMediaList","media","Array","isArray","length","every","declaration","extensionType","ExtensionType","field","fieldType","FieldExtensionType","JSON","name","description","features","FieldExtensionFeature","FieldRenderer","ListRenderer","TableRenderer","config","CLOUD_NAME","displayName","type","ConfigType","string","required","API_KEY","noop","App","Extension","useFieldExtension","isTableCell","FormFieldRenderer","value","isList","onChange","onFocus","onBlur","expand","isExpanded","openDialog","extension","useState","isTransitioning","setIsTransitioning","useEffect","React","clickedMedia","setClickedMedia","showMedia","display","flexDirection","alignItems","padding","opacity","cursor","marginBottom","boxSizing","userSelect","color","backgroundColor","textAlign","lineHeight","border","borderRadius","fontWeight","fontFamily","fontSize","verticalAlign","maxWidth","then","map","index","public_id","String","undefined","marginLeft","newValues","filter","TableCellRenderer","width","height","marginRight","FormAsset","onOpen","onClose","cloudName","resource_type","outline","background","TableAsset","style","e","key","flexShrink","objectFit","TableAssetsPreviewModal","closeModal","maximizedAsset","setMaximizedAsset","position","inset","margin","stopPropagation","maxHeight","overflowY","FullScreenPreview","handler","window","addEventListener","removeEventListener","overflow","CloudinaryDialog","useUiExtensionDialog","onCloseDialog","useLayoutEffect","mediaLibrary","cloudinary","createMediaLibrary","cloud_name","api_key","remove_header","max_files","multiple","insert_caption","inline_container","default_transformations","quality","fetch_format","crop","gravity","radius","integration","platform","version","environment","hideHandler","insertHandler","data","assets","newArray","show","CloseModalButton","right","top","event","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React, { useLayoutEffect, useState, useEffect } from 'react';\nimport { Image, Video, Placeholder } from 'cloudinary-react';\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\nimport {\n  Wrapper as ExtensionWrapper,\n  useUiExtensionDialog,\n  useFieldExtension,\n  FieldExtensionType,\n  FieldExtensionFeature,\n  FieldExtensionDeclaration,\n  ExtensionType,\n  ConfigType,\n} from '@graphcms/uix-react-sdk';\n\ntype Media = {\n  public_id: string;\n  resource_type: string;\n};\n\nfunction isMediaType(item: any): item is Media {\n  return Boolean(item) && 'public_id' in item && 'resource_type' in item;\n}\nfunction isMediaList(media: Media | Media[] | string): media is Media[] {\n  return (\n    Array.isArray(media) &&\n    media.length > 0 &&\n    media.every((item) => isMediaType(item))\n  );\n}\n// useUiExtensionDialog hook accepts two type parameters:\n// 1. The return value type, will be null or undefined if nothing is returned; falls back to any\ntype DialogReturn = Media | Media[] | null;\n// 2. Optional props you'd like to access in the dialog\ntype DialogProps = { isList: boolean; media: Media | Media[] | '' };\n\nconst declaration: FieldExtensionDeclaration = {\n  extensionType: ExtensionType.field,\n  fieldType: FieldExtensionType.JSON,\n  name: 'Cloudinary asset',\n  description: 'Pick asset object in Cloudinary',\n  features: [\n    // Enables rendering of a form field\n    FieldExtensionFeature.FieldRenderer,\n    // Enables handling lists of values\n    // Don't forget to enable multiple values when creating a UI extension field in Hygraph!\n    FieldExtensionFeature.ListRenderer,\n    // Enables rendering in content table view\n    FieldExtensionFeature.TableRenderer,\n  ],\n  // Optional fields that will when adding or updating a UI extension in Hygraph\n  config: {\n    CLOUD_NAME: {\n      displayName: 'Cloudinary cloud name',\n      type: ConfigType.string,\n      required: true,\n    },\n    API_KEY: {\n      displayName: 'Cloudinary public api key',\n      type: ConfigType.string,\n      required: true,\n    },\n  },\n};\n\nfunction noop() {}\n\n// Treat the dialog as a separate extension and render it at a dedicated route\n// The dialog path you set here should later be passed as the first argument to the openDialog function\nfunction App() {\n  return (\n    <ExtensionWrapper declaration={declaration}>\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Extension />\n          </Route>\n          <Route path=\"/cloudinary\" exact>\n            <CloudinaryDialog />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </ExtensionWrapper>\n  );\n}\n\nfunction Extension() {\n  const { isTableCell } = useFieldExtension();\n  // isTableCell can be used to detect whether the extension is currently rendered in content table\n  if (isTableCell) {\n    return <TableCellRenderer />;\n  }\n\n  return <FormFieldRenderer />;\n}\n\nfunction FormFieldRenderer() {\n  const {\n    value: media,\n    // field.isList reveals whether a field handles multiple values\n    field: { isList },\n    onChange,\n    onFocus,\n    onBlur,\n    // expand opens a full-screen view\n    expand,\n    isExpanded,\n    openDialog,\n    extension: { config },\n  } = useFieldExtension();\n\n  const [isTransitioning, setIsTransitioning] = useState(false);\n\n  useEffect(() => {\n    setIsTransitioning(false);\n  }, [isExpanded]);\n\n  const [clickedMedia, setClickedMedia] = React.useState<Media>();\n  // Note that in a form, an empty field's initial value is an empty string\n  const showMedia = Array.isArray(media) ? media.length > 0 : Boolean(media);\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-start',\n        padding: '10px',\n        opacity: isTransitioning ? 0 : 1,\n      }}\n    >\n      {isExpanded ? null : (\n        <button\n          style={{\n            cursor: 'pointer',\n            marginBottom: '10px',\n            boxSizing: 'border-box',\n            userSelect: 'none',\n            color: '#6663FD',\n            backgroundColor: '#F2F1FF',\n            textAlign: 'center',\n            lineHeight: '16px',\n            display: 'inline-flex',\n            border: '0px',\n            borderRadius: '4px',\n            fontWeight: 600,\n            fontFamily:\n              'Inter, -apple-system, system-ui, \"Segoe UI\", Helvetica, Arial, sans-serif',\n            fontSize: '14px',\n            verticalAlign: 'middle',\n            padding: '8px',\n          }}\n          onClick={() => {\n            onFocus();\n            // openDialog accepts a route path as the first argument and,\n            // optionally, an object with props that will be passed to the dialog.\n            // These props will be returned by the useUiExtensionDialog hook\n            //\n            openDialog<DialogReturn, DialogProps>('/cloudinary', {\n              // By default, native Hygraph dialogs have a maxWidth of 600px.\n              // You can overwrite it by passing a maxWidth prop\n              maxWidth: '90vw',\n              isList,\n              media,\n              // openDialog returns a Promise with the value that was passed to onCloseDialog\n            }).then((value) => {\n              if (value) {\n                onChange(value);\n              }\n              onBlur();\n            });\n          }}\n        >\n          Choose from Cloudinary\n        </button>\n      )}\n      {showMedia &&\n        (isMediaList(media) ? (\n          media.map((item, index) => (\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'row',\n                alignItems: 'flex-start',\n                opacity:\n                  isExpanded && item.public_id !== clickedMedia?.public_id\n                    ? 0\n                    : 1,\n              }}\n              key={item.public_id + index}\n            >\n              <FormAsset\n                cloudName={String(config.CLOUD_NAME)}\n                media={item}\n                isExpanded={\n                  item.public_id === clickedMedia?.public_id && isExpanded\n                }\n                onOpen={() => {\n                  // expand accepts a boolean that will be accessible as isExpanded\n                  expand(true);\n                  setIsTransitioning(true);\n                  setClickedMedia(item);\n                }}\n                onClose={() => {\n                  expand(false);\n                  setIsTransitioning(true);\n                  setClickedMedia(undefined);\n                }}\n              />\n              <button\n                style={{\n                  marginLeft: '10px',\n                  cursor: 'pointer',\n                  boxSizing: 'border-box',\n                  userSelect: 'none',\n                  color: '#6663FD',\n                  backgroundColor: 'transparent',\n                  textAlign: 'center',\n                  lineHeight: '14px',\n                  display: 'inline-flex',\n                  border: '0px',\n                  fontWeight: 500,\n                  fontFamily: 'sans-serif',\n                  fontSize: '12px',\n                  verticalAlign: 'middle',\n                  padding: '4px',\n                }}\n                onClick={() => {\n                  const newValues = media.filter(\n                    (value) => value.public_id !== item.public_id\n                  );\n                  onChange(newValues);\n                }}\n              >\n                X\n              </button>\n            </div>\n          ))\n        ) : (\n          <FormAsset\n            cloudName={String(config.CLOUD_NAME)}\n            isExpanded={\n              media.public_id === clickedMedia?.public_id && isExpanded\n            }\n            onOpen={() => {\n              expand(true);\n              setIsTransitioning(true);\n              setClickedMedia(media);\n            }}\n            onClose={() => {\n              expand(false);\n              setIsTransitioning(true);\n              setClickedMedia(undefined);\n            }}\n            media={media}\n          />\n        ))}\n    </div>\n  );\n}\n\nfunction TableCellRenderer() {\n  const {\n    value: media,\n    isExpanded,\n    expand,\n    field: { isList },\n    extension: { config },\n  } = useFieldExtension();\n\n  const [isTransitioning, setIsTransitioning] = useState(false);\n\n  useEffect(() => {\n    setIsTransitioning(false);\n  }, [isExpanded]);\n\n  if (Array.isArray(media) ? media.length === 0 : Boolean(media) === false) {\n    return null;\n  }\n\n  if (isExpanded && isList) {\n    return (\n      <TableAssetsPreviewModal\n        cloudName={String(config.CLOUD_NAME)}\n        media={media}\n        closeModal={() => {\n          expand(false);\n          setIsTransitioning(true);\n        }}\n      />\n    );\n  }\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        opacity: isTransitioning ? 0 : 1,\n      }}\n    >\n      {isMediaList(media) ? (\n        media.map((item: Media, index: number) => (\n          <div\n            key={item.public_id + index}\n            style={{\n              width: 59,\n              height: 59,\n              marginRight: index === media.length - 1 ? 0 : 10,\n            }}\n          >\n            <TableAsset\n              cloudName={String(config.CLOUD_NAME)}\n              media={item}\n              onOpen={() => {\n                expand(true);\n                setIsTransitioning(true);\n              }}\n              isExpanded={false}\n              onClose={noop}\n            />\n          </div>\n        ))\n      ) : (\n        <div style={{ width: 59, height: 59 }}>\n          <TableAsset\n            cloudName={String(config.CLOUD_NAME)}\n            isExpanded={isExpanded}\n            onClose={() => {\n              expand(false);\n              setIsTransitioning(true);\n            }}\n            onOpen={() => {\n              expand(true);\n              setIsTransitioning(true);\n            }}\n            media={media}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction FormAsset({\n  media,\n  onOpen,\n  onClose,\n  isExpanded,\n  cloudName,\n}: {\n  style?: React.CSSProperties;\n  isExpanded: boolean;\n  media: Media;\n  onOpen: () => void;\n  onClose: () => void;\n  cloudName: string;\n}) {\n  if (isExpanded) {\n    return (\n      <FullScreenPreview\n        cloudName={cloudName}\n        media={media}\n        onClose={onClose}\n      />\n    );\n  }\n\n  if (media.resource_type === 'image')\n    return (\n      <button\n        onClick={onOpen}\n        style={{\n          border: 'none',\n          outline: 'none',\n          background: 'transparent',\n          cursor: 'pointer',\n        }}\n      >\n        <Image\n          cloudName={cloudName}\n          publicId={media.public_id}\n          width=\"400\"\n          crop=\"scale\"\n        >\n          <Placeholder />\n        </Image>\n      </button>\n    );\n\n  if (media.resource_type === 'video')\n    return (\n      <Video\n        cloudName={cloudName}\n        publicId={media.public_id}\n        width=\"400\"\n        controls\n      />\n    );\n\n  return null;\n}\n\nfunction TableAsset({\n  isExpanded,\n  media,\n  onOpen,\n  onClose,\n  cloudName,\n  style,\n}: {\n  style?: React.CSSProperties;\n  isExpanded: boolean;\n  media: Media;\n  onOpen: () => void;\n  onClose: () => void;\n  cloudName: string;\n}) {\n  if (isExpanded) {\n    return (\n      <FullScreenPreview\n        media={media}\n        onClose={onClose}\n        cloudName={cloudName}\n      />\n    );\n  }\n\n  return (\n    <div\n      tabIndex={0}\n      onClick={onOpen}\n      onKeyPress={(e) => {\n        if (e.key === 'Enter') {\n          onOpen();\n        }\n      }}\n      style={{\n        width: 59,\n        height: 59,\n        flexShrink: 0,\n        ...style,\n      }}\n    >\n      {media.resource_type === 'image' ? (\n        <Image\n          publicId={media.public_id}\n          cloudName={cloudName}\n          width=\"auto\"\n          crop=\"scale\"\n          style={{\n            objectFit: 'cover',\n            width: '100%',\n            height: '100%',\n            cursor: 'pointer',\n          }}\n        >\n          <Placeholder />\n        </Image>\n      ) : media.resource_type === 'video' ? (\n        <Video\n          cloudName={cloudName}\n          publicId={media.public_id}\n          width=\"auto\"\n          style={{\n            objectFit: 'cover',\n            width: '100%',\n            height: '100%',\n            cursor: 'pointer',\n          }}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nfunction TableAssetsPreviewModal({\n  closeModal,\n  media,\n  cloudName,\n}: {\n  media: Media[];\n  closeModal: () => void;\n  cloudName: string;\n}) {\n  const [maximizedAsset, setMaximizedAsset] = useState<Media | null>(null);\n\n  if (maximizedAsset) {\n    return (\n      <TableAsset\n        cloudName={cloudName}\n        media={maximizedAsset}\n        isExpanded\n        onOpen={noop}\n        onClose={() => {\n          setMaximizedAsset(null);\n        }}\n      />\n    );\n  }\n\n  return (\n    <div\n      aria-modal=\"true\"\n      role=\"dialog\"\n      style={{\n        position: 'fixed',\n        inset: 0,\n        display: 'flex',\n      }}\n      onClick={closeModal}\n    >\n      <div\n        style={{ margin: 'auto' }}\n        onClick={(e) => {\n          e.stopPropagation();\n        }}\n      >\n        <CloseModalButton closeModal={closeModal} />\n        <div\n          style={{\n            display: 'flex',\n            borderRadius: '4px',\n            backgroundColor: 'white',\n            maxWidth: '800px',\n            maxHeight: '400px',\n            padding: '16px',\n            overflowY: 'auto',\n          }}\n        >\n          {media.map((item, index) => (\n            <TableAsset\n              isExpanded={false}\n              cloudName={cloudName}\n              media={item}\n              key={item.public_id + index}\n              onOpen={() => {\n                setMaximizedAsset(item);\n              }}\n              onClose={() => {\n                setMaximizedAsset(null);\n              }}\n              style={{\n                width: 250,\n                height: 200,\n                marginRight: index === media.length - 1 ? 0 : 16,\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction FullScreenPreview({\n  media,\n  cloudName,\n  onClose,\n}: {\n  media: Media;\n  onClose: () => void;\n  cloudName: string;\n}) {\n  useEffect(() => {\n    const handler = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keyup', handler);\n    return () => {\n      window.removeEventListener('keyup', handler);\n    };\n  }, [onClose]);\n\n  return (\n    <div\n      aria-modal=\"true\"\n      role=\"dialog\"\n      style={{\n        position: 'fixed',\n        inset: 0,\n        display: 'flex',\n        alignItems: 'center',\n        overflow: 'auto',\n      }}\n      onClick={(e) => {\n        e.stopPropagation();\n        onClose();\n      }}\n    >\n      <CloseModalButton closeModal={onClose} />\n      {media.resource_type === 'image' ? (\n        <Image\n          cloudName={cloudName}\n          publicId={media.public_id}\n          width=\"auto\"\n          style={{ maxWidth: '100%', margin: 'auto', maxHeight: '100%' }}\n          crop=\"scale\"\n        >\n          <Placeholder />\n        </Image>\n      ) : media.resource_type === 'video' ? (\n        <Video\n          cloudName={cloudName}\n          publicId={media.public_id}\n          controls\n          style={{ maxWidth: '70vw', margin: 'auto', maxHeight: '100%' }}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nfunction CloudinaryDialog() {\n  const {\n    extension: { config },\n  } = useFieldExtension();\n  // You can pass type parameters to useUiExtensionDialog\n  // onCloseDialog function is always returned from the hook\n  const { onCloseDialog, isList, media } = useUiExtensionDialog<\n    DialogReturn,\n    DialogProps\n  >();\n  useLayoutEffect(() => {\n    // @ts-expect-error\n    const mediaLibrary = window.cloudinary.createMediaLibrary(\n      {\n        cloud_name: config.CLOUD_NAME,\n        api_key: config.API_KEY,\n        remove_header: false,\n        max_files: '10',\n        multiple: isList,\n        insert_caption: 'Add & close',\n        inline_container: '#cloudinary_dialog',\n        default_transformations: [\n          [{ quality: 'auto' }, { fetch_format: 'auto' }],\n          [\n            {\n              width: 80,\n              height: 80,\n              crop: 'fill',\n              gravity: 'auto',\n              radius: 'max',\n            },\n            { fetch_format: 'auto', quality: 'auto' },\n          ],\n        ],\n        integration: {\n          type: 'hygraph_cloudinary_extension',\n          platform: 'hygraph',\n          version: 1.0,\n          environment: 'prod',\n        },\n      },\n      {\n        hideHandler: function () {\n          // To close the dialog without returning a value to the fields,\n          // call onCloseDialog with null or without an argument\n          onCloseDialog();\n        },\n        insertHandler: function (data: { assets: Media[] }) {\n          // Pass a single value to onCloseDialog to set it as the field value\n          // or an array, if the field handles multiple values\n          if (isList) {\n            if (isMediaList(media)) {\n              onCloseDialog([...media, ...data.assets]);\n            } else {\n              // initial field value is an empty string\n              const newArray = isMediaType(media)\n                ? [media, ...data.assets]\n                : data.assets;\n              onCloseDialog(newArray);\n            }\n          } else {\n            onCloseDialog(data.assets[0]);\n          }\n        },\n      }\n    );\n    mediaLibrary.show();\n  }, [config.API_KEY, config.CLOUD_NAME, isList, media, onCloseDialog]);\n\n  return (\n    <div\n      id=\"cloudinary_dialog\"\n      style={{\n        height: '800px',\n      }}\n    />\n  );\n}\n\nfunction CloseModalButton({ closeModal }: { closeModal: () => void }) {\n  return (\n    <button\n      type=\"button\"\n      style={{\n        cursor: 'pointer',\n        userSelect: 'none',\n        backgroundColor: 'transparent',\n        textAlign: 'center',\n        lineHeight: '16px',\n        display: 'inline-flex',\n        border: '0px',\n        position: 'absolute',\n        right: '10px',\n        top: '10px',\n        fontWeight: 500,\n        background: 'white',\n        color: 'black',\n        fontSize: '16px',\n        borderRadius: '4px',\n        padding: '4px 8px',\n        verticalAlign: 'middle',\n        margin: 0,\n      }}\n      onClick={(event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        closeModal();\n      }}\n      onKeyPress={(event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (event.key === 'Enter') {\n          closeModal();\n        }\n      }}\n    >\n      Close\n    </button>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin"]}}